---
description: "发布管理规范 - 标准化PyPI发布流程和配置"
globs: [".github/workflows/publish.yml", "scripts/publish_to_pypi.sh", "**/pyproject.toml"]
---

# 🚀 发布管理规范 (Release Management Standard)

*版本: v1.0.0 | 最后更新: 2025-12-26 | 作者: AI Assistant*

## 🎯 适用场景

- PyPI包发布
- Trusted Publisher配置
- 发布流程标准化
- 包可用性验证

## 📋 核心原则

### 自动化发布
- **Trusted Publisher**: 优先使用GitHub Actions自动发布
- **版本标签触发**: 通过Git标签自动触发发布流程
- **权限安全**: 使用临时令牌而非长期API密钥

### 三阶段流程
- **准备阶段**: 配置验证、本地测试、权限检查
- **执行阶段**: 自动构建、签名、上传发布
- **验证阶段**: 安装测试、可用性确认、监控设置

### 安全保障
- **权限最小化**: 只授予必要的发布权限
- **双重验证**: 人工确认重要版本发布
- **回滚能力**: 发布失败时能快速回滚

## 🔧 配置要求

### Trusted Publisher设置
- **项目所有权**: 确保有PyPI项目管理权限
- **仓库匹配**: GitHub仓库信息与PyPI配置一致
- **工作流命名**: 发布工作流文件名标准化

### 发布脚本
- **构建验证**: 确保包能正确构建
- **元数据检查**: 验证包信息和依赖关系
- **分发文件**: 生成正确的wheel和source distribution

## 📊 监控与维护

### 发布状态监控
- **工作流状态**: 实时监控GitHub Actions执行状态
- **包可用性**: 确认包在PyPI上正确发布
- **安装验证**: 确保用户能正常安装和使用

### 持续改进
- **发布频率**: 根据项目成熟度调整发布频率
- **质量保证**: 发布前确保通过所有测试
- **文档同步**: 发布后更新相关文档和版本信息

## 📚 实施参考

具体配置步骤和实施细节请参考：[发布流程实施指南](../../docs/implementation/release_process.md)
